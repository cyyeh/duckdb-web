Implement the following plan:

# Add Charting Feature with Recharts

## Context
The DuckDB browser IDE currently displays query results as interactive tables or markdown (for EXPLAIN queries). Users need a way to visualize query results as charts. We'll add Recharts as the charting library and introduce a tab system to switch between Table and Chart views.

## Implementation Steps

### 1. Install Recharts
```
npm install recharts
```

### 2. Extend types — `src/types.ts`
Add chart-related types:
- `ChartType = 'bar' | 'line' | 'scatter' | 'pie'`
- `ColumnKind = 'numeric' | 'categorical' | 'unknown'`
- `ColumnProfile { name, kind }`
- `ChartConfig { chartType, xAxis, yAxis }`

### 3. Create column detection utility — `src/utils/columnTypeDetection.ts` (new)
- `profileColumns(columns, rows)` — samples up to 200 rows, classifies columns as numeric (≥80% finite numbers) or categorical
- `suggestDefaults(profiles)` — picks sensible X/Y axes and chart type based on column kinds

### 4. Create chart config panel — `src/components/ChartConfig.tsx` + `.css` (new)
- Controlled component with dropdowns for chart type, X axis, Y axis
- Adapts labels for pie charts (shows "Label column" / "Value column" instead of X/Y)

### 5. Create chart display — `src/components/ChartDisplay.tsx` + `.css` (new)
- Renders the selected Recharts chart type (Bar, Line, Scatter, Pie)
- Caps data at 500 rows with a notice when truncated
- Uses app's color palette (#4a90d9 primary)

### 6. Create chart orchestrator — `src/components/ResultChart.tsx` + `.css` (new)
- Holds chart config state, runs column profiling, auto-suggests defaults on new results
- Renders ChartConfig + ChartDisplay
- Shows empty state if < 2 columns

### 7. Create tab panel — `src/components/ResultPanel.tsx` + `.css` (new)
- Tab bar with "Table" and "Chart" tabs (hidden for markdown/EXPLAIN results)
- Manages active tab state, resets to "table" on new results
- Renders ResultsTable, ResultMarkdown, or ResultChart based on active tab

### 8. Update App.tsx — `src/App.tsx`
- Replace the conditional render block (lines 167-171) with `<ResultPanel result={queryResult} />`
- Update imports: remove direct ResultsTable/ResultMarkdown imports, add ResultPanel

## Files Summary

| Status | Path |
|--------|------|
| Modified | `src/types.ts` |
| Modified | `src/App.tsx` |
| New | `src/utils/columnTypeDetection.ts` |
| New | `src/components/ChartConfig.tsx` + `.css` |
| New | `src/components/ChartDisplay.tsx` + `.css` |
| New | `src/components/ResultChart.tsx` + `.css` |
| New | `src/components/ResultPanel.tsx` + `.css` |

## Verification
1. Run `npm run dev` and open the app
2. Load sample Titanic dataset and run `SELECT * FROM "titanic" LIMIT 100`
3. Verify "Table" and "Chart" tabs appear; Table view works as before
4. Switch to Chart tab — should auto-detect columns and show a bar chart
5. Change chart type, X/Y axes via dropdowns — chart updates
6. Run `EXPLAIN SELECT * FROM "titanic"` — tabs should disappear, markdown renders directly
7. Run `npm run build` to verify no type errors


If you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /home/cyyeh/.REDACTED.jsonl

---

revert changes